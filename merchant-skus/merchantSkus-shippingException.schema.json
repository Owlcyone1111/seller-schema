{
    "$schema": "http://json-schema.org/draft-03/schema",
    "title": "ShippingException",
    "type": "object",
    "additionalProperties": false,
    "description": "This object is used to set shipping exceptions for merchant SKUs",
    "properties": {
        "fulfillment_nodes": {
            "type": "array",
            "items": {
                "title": "ShippingExceptionNodeArray",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "fulfillment_node_id": {
                        "type": "string",
                        "description": "Jet's unique ID for a given fulfillment node

                        #Valid Values
                        * Must be a valid fulfillment node set up in the partner portal
                        "
                    },
                    "shipping_exceptions": {
                        "$ref": "#/definitions/shipping_exception_array"
                    }
                }
            }
        }
    },
    "definitions": {
        "shipping_exception_array": {
            "type": "array",
            "items": {
                "title": "ShippingExceptionItem",
                "type": "object",
                "additionalProperties": false,
                "description": "Shipping exception of particular fulfillment node",
                "properties": {
                    "service_level": {
                        "type": "string",
                        "enum": [ "Standard", "Expedited", "Scheduled", "NextDay", "SecondDay" ],
                        "description": "Generic descriptions of shipment delivery times

                        #Logic 
                        * Either service_level OR shipping_method required
                        
                        #Valid Values 
                        * Standard
                        * Expedited 
                        * Scheduled
                        * NextDay 
                        * SecondDay"
                    },
                    "shipping_method": {
                        "type": "string",
                        "enum":[
                         "DHL Global Mail",
                         "FedEx 2 Day",
                         "FedEx Express Saver",
                         "FedEx First Overnight",
                         "FedEx Ground",
                         "FedEx Home Delivery",
                         "FedEx Priority Overnight",
                         "FedEx Smart Post",
                         "FedEx Standard Overnight",
                         "Freight",
                         "Ontrac Ground",
                         "UPS 2nd Day Air AM",
                         "UPS 2nd Day Air",
                         "UPS 3 Day Select",
                         "UPS Ground",
                         "UPS Mail Innovations",
                         "UPS Next Day Air Saver",
                         "UPS Next Day Air",
                         "UPS SurePost",
                         "USPS First Class Mail",
                         "USPS Media Mail",
                         "USPS Priority Mail Express",
                         "USPS Priority Mail",
                         "USPS Standard Post"
                        ],
                        "description": "A specific shipping method e.g. UPS Ground, UPS Next Day Air, FedEx Home

                        # Logic 
                        * Either service_level OR shipping_method required

                        # Valid Values

                        'DHL Global Mail',
                        'FedEx 2 Day',
                        'FedEx Express Saver',
                        'FedEx First Overnight',
                        'FedEx Ground',
                        'FedEx Home Delivery',
                        'FedEx Priority Overnight',
                        'FedEx Smart Post',
                        'FedEx Standard Overnight',
                        'Freight',
                        'Ontrac Ground',
                        'UPS 2nd Day Air AM',
                        'UPS 2nd Day Air',
                        'UPS 3 Day Select',
                        'UPS Ground',
                        'UPS Mail Innovations',
                        'UPS Next Day Air Saver',
                        'UPS Next Day Air',
                        'UPS SurePost',
                        'USPS First Class Mail',
                        'USPS Media Mail',
                        'USPS Priority Mail Express',
                        'USPS Priority Mail',
                        'USPS Standard Post'
                        "

                    },
                    "override_type": {
                        "type": "string",
                        "enum": [ "Additional charge", "Override charge" ],
                        "description": "The type of shipping override, \"Additional charge\" or \"Override charge\" (Override Charge could be used to lower shipping)

                        #Logic
                        * override_type not required if shipping_exception_type = 'restricted'

                        #Valid Values

                        *'Additional charge' - A charge that is added to the default shipping charge.  Must be added to a shipping method set up for that fulfillment node 
                        *'Override charge' - A charge that overrides the default shipping charge.  Can be any shipping method set up"
                    },
                    "shipping_charge_amount": {
                        "type": "number",
                        "minimum":0,
                        "description": "The amount added to your default shipping charge when \"OverrideType\"= \"Additional charge\" and the total amount charged when \"OverrideType\" =  \"Override charge\"

                        #Logic 
                        * This field is required if override_type is populated
                        "
                    },
                    "shipping_exception_type": {
                        "type": "string",
                        "required":true,
                        "enum": ["restricted","exclusive"],
                        "description": "Indicates if you want the product to be shipped exclusively (only with) or restrictively (not including) via the shipping level of shipping method provided

                        #Valid Values
                        * restricted - The product cannot be shipped using the shipping method or shipping level provided.  
                            There can be many restricted shipping methods per fulfillment node.
                        * exclusive - The product should only be shipped using the shipping method or shipping level provided.  
                            There can only be one exclusive shipping method per fulfillment node.
                        * include - The product will be priced normally under the Jet.com pricing algorithm.  If the shipping method 
                            determined for the order has an exception on it, the appropriate override_type will be applied
                        "
                    }
                }
            }
        }
    }
}