{
    "title" : "RefundPartialCancel",
    "type" : "object",
    "properties" : {
    	"merchant_order_id": {
            "type": "string",
            "required": true,
            "description" :  "Jet's unique ID for a given merchant order",
        },
        "alt_order_id": {
            "type": "string",
            "description" : "Optional Merchant supplied order ID."
        },
        "jet_request" :{
        	"type" : "string",
        	"required" : true,
        	"enum" : ["Yes","No"],
        	"description" : "Let's Jet know if we requested this cancellation or if you are initiating the cancel

        	#Valid Values

        	*'Yes' - This is sent if you received a DirectedCancel message

        	*'No' - This is sent if you did not receive a DirectedCancel message and are initiating the cancel on you own."
        	},
        "items": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/order_cancel_item"
            }
        }
    },
    "definitions": {
        "order_cancel_item": {
            "title": "OrderCancelItem",
            "type": "object",
            "properties": {
                "order_item_id": {
                    "type": "string",
                    "description" : "Jet's unique identifier for an item in a merchant order

                    #Logic

                    required if cancelling only part of an order if an alt_order_item_id has been associated with the order_item_id via the order accept message that may be passed instead."
                },
                "alt_order_item_id": {
                    "type": "string",
                    "description" : "Optional seller supplied ID for an item in an order."
                },
                "order_cancel_qty" : {
                    "type" : "integer",
                    "required" : true,
                    "description" : "Quanitity of the given item that was cancelled

                    #Logic

                    Required if cancelling a specific item to indicate the qty of the given item to be cancelled. This should only be used if part of the order was shipped EFORE it was realized that some of the items could not be shipped.  If you are aware that you cannot fill the order completely before a portion has shipped you should send an order-reject message. "
                },
                "adjustment_reason" : {
                	"type" : "string",
                	"required" : true,
                	"enum" : [
                				"Price Error",
                				"Customer Request",
                				"Jet Request",
                				"Shipping Address Undeliverable",
                				"Partial Out Of Stock",
                				"ship_by Date Cannot Be Met",
                				"deliver_by Date Cannot Be Met",
                				"Other"],
                	"description" : "the reason for the adjustment_reason

                	#Valid Values

                	*'Price Error' - If refunding an amount due to a pricing error you noticed after the transaction was completed

                	*'Customer Request' - If cancelling due to a customer request to do so 

                	*'Shipping Address Undeliverable' - Send if using your own shipping labels and your carriers do not deliver to the given Address
                	
                	*'Partial Out Of Stock' - Send if you can fulfill some but not all of the order AND some items from the order have already shipped (immediately send an inventory message to correct your inventory levels)

                	*'ship_by Date Cannot Be Met' Send if you are unable to ship any part of the order by the required ship_by date AND you have not shipped any part of the order

                	*'deliver_by Date Cannot Be Met' Send if you are unable to ensure any part of the order will be delivered by the required deliver_by date AND you have not shipped any part of the order

                	*'other' - use for any use case not address above "

                },
                "price_adjustment" : {
                	"title" : "price_adjustment",
                	"type" : "object",
                	"properties" : {
                		"principal" : {
                			"type" : "number",
                			"description" : "Amount to be refunded for the given item in USD associated with the item itself. This should be the total cost for this item not the unit cost."
                		},
                		"tax" : {
                			"type" : "number",
                			"description" : "Amount to be refunded for the given item in USD associated with tax that was charged for the item and "
                		},
                		"shipping_cost" : {
                			"type" : "number",
                			"description" : "Amount to be refunded for the given item in USD associated with the shipping cost that was allocated to this item"
                		},
                		"shipping_tax" : {
                			"type" : "number",
                			"description" : "Amount to be refunded for the given item in USD associated with the tax that was charged on shipping"
                		}
                	}
                }
            }
        }
    }
}