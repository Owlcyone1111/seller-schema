{
    "$schema" : "http://json-schema.org/draft-03/schema",		
	"title": "SettlementReturnsReport",
	"type": "object",
    "additionalProperties" : false,		
	"description": "This schema provides the fields for a merchant to return a settlement report based on customer returns on Jet.com",
	"properties": {
		"currency": {
			"type": "string",
			"required": true,
			"description": "The currency that all monetary values are represented in for the settlement report retrieved"
		},
        "return_balance": {
            "type": "number",
            "required": true,
            "description": "The total value of returns that is settled in this settlement report"
        },
		"return_balance_details":{
			"required": true,
			"items":{
				"$ref":"#/definitions/settlement_return_details_report"
			}
		},
        "return_item_balance_details":{
            "required": true,
            "items":{
                "$ref":"#/definitions/settlement_return_item_details_report"
            }
        },
        "settlement_state": {
            "type": "string",
            "required": true,
            "enum" : ["deposited", "submitted", "rejected"], 
            "description": "The status of the current settlement

            #Valid Values

            * submitted - The payment has been submitted to your bank and is awaiting deposit
            * deposited - The payment has been deposited to your bank
            * rejected - The payment was rejected by your bank.  Please check your deposit information.
            "
        },
        "submitted_date":{
            "type":"string",
            "description":"The date the payment was submitted to the bank"
        },
        "originated_date":{
            "type":"string",
            "description":"The date the payment advice was sent to your bank"
        },
        "rejected_date":{
            "type":"string",
            "description":"The date the payment was rejected fro whatever reason"
        },
	},
	"definitions":{
        "settlement_return_details_report": {
            "title": "SettlementReturnDetailsReport",
            "additionalProperties" : false,
            "type": "object",
            "properties": {
                "merchant_price": {
                    "type": "number",
                    "required": true,
                    "description" : "The merchant price of the product being refunded to the customer"
                },
                "variable_commission": {
                    "type": "number",
                    "required": true,
                    "description" : "The variable commission that was paid to the merchant or charged by jet"
                },
                "base_commission": {
                    "type": "number",
                    "required": true,
                    "description" : "The refunded base commision for a sale"
                },
                "tax": {
                    "type": "number",
                    "required": true,
                    "description" : "The to be returned tax charged to the customer for buying the item"
                },
                "shipping_tax": {
                    "type": "number",
                    "required": true,
                    "description" : "The tax charged on shipped revenue to be returned to the customer"
                },                                                         
                "merchant_return_charge": {
                    "type": "number",
                    "required": true,
                    "description" : "Any charges for the return that the merchant is required to pay"
                },
                "return_shipping_charge": {
                    "type": "number",
                    "required": true,
                    "description" : "Any charges for return shipping that the merchant is required to pay"
                },
                "return_processing_fee": {
                    "type": "number",
                    "required": true,
                    "description" : "If the item is being returned to Jet fulfillment center, then this is processing fee charged by Jet"
                }             
            }
        },
        "settlement_return_item_details_report": {
            "title": "SettlementReturnItemDetailsReport",
            "additionalProperties" : false,
            "type": "object",
            "properties": {
                "return_authorization_id" : {
                    "type": "string",
                    "required": true,
                    "description" : "The Return Authorization ID generated by Jet during the return process.  This value is available via the returns API and is NOT unique to a single item."
                },
                "order_item_id" : {
                    "type": "string",
                    "required": true,
                    "description" : "The Order Item ID assigned to an item in an order by Jet.  This can be found in the Orders API."
                },
                "alt_order_item_id" : {
                    "type": "string",
                    "required": false,
                    "description" : "The Merchant Order Item ID given to Jet during the order acknowledgment by the merchant"
                },
                "return_location" : {
                    "type": "string",
                    "required": false,
                    "enum" : ["merchant", "jet"], 
                    "description" : "Determines where the 

                    #Valid Values

                    * merchant - the return was sent to a merchant's return center or the merchant's drop shipper.
                    * jet - the returned item was sent to a Jet fulfillment center to process the return    

                    "
                },
                "merchant_price": {
                    "type": "number",
                    "required": true,
                    "description" : "The merchant price of the product being refunded to the customer"
                },
                "variable_commission": {
                    "type": "number",
                    "required": true,
                    "description" : "The variable commission that was paid to the merchant or charged by jet"
                },
                "base_commission": {
                    "type": "number",
                    "required": true,
                    "description" : "The refunded base commision for a sale"
                },
                "tax": {
                    "type": "number",
                    "required": true,
                    "description" : "The to be returned tax charged to the customer for buying the item"
                },
                "shipping_tax": {
                    "type": "number",
                    "required": true,
                    "description" : "The tax charged on shipped revenue to be returned to the customer"
                },  
                "tax_info": {
                    "title": "SettlementReturnTaxInfo",
                    "type" : "object",
                    "additionalProperties" : false,
                    "properties": {
                        "tax_jurisdictions": { 
                            "type": "object",
                            "$ref": "#/definitions/settlement_tax_jurisdictions"                
                        },
                        "taxable_amounts": {
                            "type": "object",
                            "$ref": "#/definitions/settlement_amounts"
                        },
                        "non_taxable_amounts": {
                            "type": "object",
                            "$ref": "#/definitions/settlement_amounts"                
                        },
                        "zero_rated_amounts": {
                            "type": "object",
                            "$ref": "#/definitions/settlement_amounts"
                        },
                        "tax_collected_amounts": {
                            "type": "object",
                            "$ref": "#/definitions/settlement_amounts"                
                        },
                        "tax_rates": {
                            "type": "object",
                            "$ref": "#/definitions/settlement_amounts"
                        }
                    }
                },                                               
                "merchant_return_charge": {
                    "type": "number",
                    "required": true,
                    "description" : "Any charges for the return that the merchant is required to pay"
                },
                "return_shipping_charge": {
                    "type": "number",
                    "required": true,
                    "description" : "Any charges for return shipping that the merchant is required to pay"
                },
                "return_processing_fee": {
                    "type": "number",
                    "required": true,
                    "description" : "If the item is being returned to Jet fulfillment center, then this is processing fee charged by Jet"
                }              
            }
        },
        "settlement_tax_jurisdictions" : {
            "title" : "SettlementReturnTaxJurisdictions",
            "type" : "object",
            "additionalProperties" : false,
            "properties" : {
                "tax_district" : {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/tax_districts_array" 
                    }
                },
                "tax_city" : {
                    "type" : "string",
                    "required" : false,
                    "description" :"Name of the city in which tax was collected"
                },
                "tax_county" : {
                    "type" : "string",
                    "required" : false,
                    "description" : "Name of the county that tax was collected"
                },
                "tax_state" : {
                    "type" : "string",
                    "required" : false,
                    "descrition" : "Two letter abbreviation for the state in which tax was collected"
                }
            }
        },
        "settlement_amounts": {
            "title": "SettlementTaxReturnAmounts",
            "type": "object",
            "additionalProperties" : false,
            "properties": {
                "tax_district" : {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/tax_districts_array" 
                    }
                },
                "city_amount": {
                    "type": "number",
                    "required": false,
                    "description": "Amount at the city level"
                },
                "county_amount": {
                    "type": "number",
                    "required": false,
                    "description": "Amount at the county level"
                },
                "state_amount": {
                    "type": "number",
                    "required": false,
                    "description": "Amount at the state level"
                }
            }
        },
        "tax_districts_array": {
            "title": "SettlmentItemTaxDistrictsArray",
            "type": "object",
            "additionalProperties" : false,
            "properties": {
                "tax_location" : {
                    "type": "string",
                    "description" : "The district that tax is collected for"
                },
                "district_amount": {
                    "type": "number",
                    "required": false,
                    "description": "The amount that corresponds to the district in the array"
                }
            }
        }
	}
}